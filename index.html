<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>2ì£¼ ë§¤ì¶œ ëª©í‘œ ëŒ€ì‹œë³´ë“œ</title>
  <style>
    body { font-family: Arial, sans-serif; background: #111; color: #eee; }
    table { border-collapse: collapse; width: 100%; margin-top: 20px; }
    th, td { border: 1px solid #444; padding: 8px; text-align: center; }
    th { background: #222; }
    input { background: #222; color: #eee; border: 1px solid #555; }
  </style>
</head>
<body>
  <h2>ğŸ“Š 2ì£¼ ë§¤ì¶œ ëª©í‘œ ëŒ€ì‹œë³´ë“œ</h2>
  <table>
    <thead>
      <tr>
        <th>ì¼ì°¨</th>
        <th>ë‚ ì§œ</th>
        <th>ì‹¤ì œ ë§¤ì¶œ</th>
        <th>ëˆ„ì </th>
        <th>ëˆ„ì  ë‹¬ì„±ë¥ </th>
      </tr>
    </thead>
    <tbody id="tbody"></tbody>
  </table>

  <script>
    // ğŸ‘‰ ìš”ì¼ ë³€í™˜ í•¨ìˆ˜
    const DAYS = ['ì¼','ì›”','í™”','ìˆ˜','ëª©','ê¸ˆ','í† '];
    const getKoreanWeekday = (y, m, d) => DAYS[new Date(y, m - 1, d).getDay()];

    // ğŸ‘‰ ë”ë¯¸ ë°ì´í„° (ê¸°ê°„ 14ì¼)
    const state = {
      start: new Date(2025, 8, 16), // 9ì›” = index 8
      days: 14,
      sales: []
    };

    // ğŸ‘‰ í¬ë§· í•¨ìˆ˜
    const pct = v => (v * 100).toFixed(2) + '%';
    const fmt = v => v.toLocaleString();

    // ğŸ‘‰ ë Œë”ë§ í•¨ìˆ˜
    function render() {
      const tbody = document.getElementById('tbody');
      tbody.innerHTML = '';
      let cum = 0;
      for (let i = 0; i < state.days; i++) {
        const d = new Date(state.start);
        d.setDate(state.start.getDate() + i);

        const y = d.getFullYear();
        const m = d.getMonth() + 1;
        const da = d.getDate();
        const wd = getKoreanWeekday(y, m, da); // ìš”ì¼ êµ¬í•˜ê¸°

        const s = state.sales[i] || 0;
        cum += s;
        const rate = cum / 1800000; // ëª©í‘œ ëŒ€ë¹„ ë‹¬ì„±ë¥  (ì˜ˆ: 180ë§Œ)

        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${i+1}</td>
          <td>${y}-${m}-${da} (${wd})</td>
          <td>
            <input type="number" min="0" step="1000" value="${s}" data-idx="${i}" style="width:140px; text-align:right">
          </td>
          <td>${fmt(cum)}</td>
          <td>${pct(rate)}</td>
        `;
        tbody.appendChild(tr);
      }

      // ì…ë ¥ ì´ë²¤íŠ¸ ë°”ì¸ë”©
      tbody.querySelectorAll('input[type="number"]').forEach(inp => {
        inp.addEventListener('input', () => {
          const i = Number(inp.dataset.idx);
          state.sales[i] = Number(inp.value) || 0;
          render(); // ë‹¤ì‹œ ë Œë”ë§ (ëˆ„ì  ë°˜ì˜)
        });
      });
    }

    render();
  </script>
</body>
</html>

